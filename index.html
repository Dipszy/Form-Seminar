<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SeminarAcuuuu</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <style>
        .nav-link.active {
            border-bottom: 2px solid #007bff;
        }

        .nav-link {
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .nav-link:hover {
            color: #007bff;
            transform: scale(1.1);
        }

        .container-hidden {
            display: none;
        }

        .navbar-nav {
            flex-grow: 1;
            justify-content: center;
        }

        .navbar-right {
            display: flex;
            justify-content: flex-end;
            align-items: center;
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="index.html">SeminarAcuuuu</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contact</a>
                        </li>
                    </ul>
                    <div class="d-flex navbar-right">
                        <button class="btn btn-outline-danger" id="logoutButton" style="display: none;" onclick="handleLogout()">Logout</button>
                        <a class="btn btn-outline-primary me-2" href="#" data-bs-toggle="modal" data-bs-target="#loginModal"
                            id="loginButton">Login</a>
                        <a class="btn btn-primary" href="#" id="registerButton" data-bs-toggle="modal" data-bs-target="#registerModal">Register</a>
                        <a class="btn btn-success ms-2" href="#" id="createSeminarButton" style="display: none;">Create Seminar</a>
                        <a class="btn btn-info ms-2" href="#" id="viewParticipantsButton" style="display: none;">View Participants</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm" onsubmit="handleLogin(event)">
                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input type="text" class="form-control" id="username" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="password" required>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Login</button>
                        </div>
                    </form>
                    <p id="loginError" class="text-danger text-center mt-2" style="display: none;">Invalid username or password</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerModalLabel">Register for Login</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="registerForm" onsubmit="handleRegister(event)">
                        <div class="mb-3">
                            <label for="newUsername" class="form-label">Username</label>
                            <input type="text" class="form-control" id="newUsername" required>
                        </div>
                        <div class="mb-3">
                            <label for="newPassword" class="form-label">Password</label>
                            <input type="password" class="form-control" id="newPassword" required>
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Register</button>
                        </div>
                    </form>
                    <p id="registerError" class="text-danger text-center mt-2" style="display: none;">Error registering user. Try again!</p>
                </div>
            </div>
        </div>
    </div>

    <main class="container mt-5" id="seminarRegistrationForm">
        <h1 class="text-center mb-4">Registrasi Seminar</h1>
        <div class="card shadow">
            <div class="card-body">
                <form id="seminarForm" onsubmit="handleFormSubmit(event)">
                    <div class="mb-3">
                        <label for="name" class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="Contoh: Iqbal"
                            required>
                    </div>
                    <div class="mb-3">
                        <label for="birthplace" class="form-label">Tempat Lahir</label>
                        <input type="text" class="form-control" id="birthplace" name="birthplace"
                            placeholder="Contoh: Jakarta" required>
                    </div>
                    <div class="mb-3">
                        <label for="birthdate" class="form-label">Tanggal Lahir</label>
                        <input type="date" class="form-control" id="birthdate" name="birthdate" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Jenis Kelamin</label>
                        <div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="gender" id="male" value="Laki-laki"
                                    required>
                                <label class="form-check-label" for="male">Laki-laki</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="gender" id="female" value="Perempuan"
                                    required>
                                <label class="form-check-label" for="female">Perempuan</label>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="seminar" class="form-label">Pilih Seminar</label>
                        <select class="form-select" id="seminar" name="seminar" required>
                            <option value="" selected disabled>Pilih Seminar</option>
                            <option value="Seminar Teknologi AI">Teknologi AI</option>
                            <option value="Seminar Keamanan Data">Keamanan Data</option>
                            <option value="Seminar Etika Digital">Etika Digital</option>
                        </select>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Daftar</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <div class="container mt-5 container-hidden" id="createSeminarContainer">
        <h1 class="text-center mb-4">Create New Seminar</h1>
        <div class="card shadow">
            <div class="card-body">
                <form id="createSeminarForm">
                    <div class="mb-3">
                        <label for="seminarTitle" class="form-label">Title</label>
                        <input type="text" class="form-control" id="seminarTitle" required>
                    </div>
                    <div class="mb-3">
                        <label for="seminarDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="seminarDescription" rows="4" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="eventName" class="form-label">Event Name</label>
                        <input type="text" class="form-control" id="eventName" required>
                    </div>
                    <div class="mb-3">
                        <label for="startDate" class="form-label">Start Date</label>
                        <input type="date" class="form-control" id="startDate" required>
                    </div>
                    <div class="mb-3">
                        <label for="endDate" class="form-label">End Date</label>
                        <input type="date" class="form-control" id="endDate" required>
                    </div>
                    <div class="mb-3">
                        <label for="cost" class="form-label">Cost</label>
                        <input type="number" class="form-control" id="cost" required>
                    </div>
                    <div class="mb-3">
                        <label for="location" class="form-label">Location</label>
                        <input type="text" class="form-control" id="location" required>
                    </div>
                    <div class="mb-3">
                        <label for="latitude" class="form-label">Latitude</label>
                        <input type="number" step="any" class="form-control" id="latitude" required>
                    </div>
                    <div class="mb-3">
                        <label for="longitude" class="form-label">Longitude</label>
                        <input type="number" step="any" class="form-control" id="longitude" required>
                    </div>
                    <div class="mb-3">
                        <label for="eventType" class="form-label">Event Type</label>
                        <select class="form-select" id="eventType" required>
                            <option value="" selected disabled>Select Event Type</option>
                            <option value="Workshop">Workshop</option>
                            <option value="Seminar">Seminar</option>
                            <option value="Conference">Conference</option>
                            <option value="Webinar">Webinar</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="pic" class="form-label">Person in Charge (PIC)</label>
                        <input type="text" class="form-control" id="pic" required>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-success">Create Seminar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="container mt-5 container-hidden" id="filterParticipantsContainer">
        <h1 class="text-center mb-4">Filter Seminar Participants</h1>
        <div class="card shadow">
            <div class="card-body">
                <form id="filterParticipantsForm" onsubmit="handleFilterParticipants(event)">
                    <div class="mb-3">
                        <label for="filterSeminar" class="form-label">Select Seminar</label>
                        <select class="form-select" id="filterSeminar" required>
                            <option value="" selected disabled>Select Seminar</option>
                            <option value="Seminar Teknologi AI">Teknologi AI</option>
                            <option value="Seminar Keamanan Data">Keamanan Data</option>
                            <option value="Seminar Etika Digital">Etika Digital</option>
                        </select>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Filter Participants</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="container mt-5 container-hidden" id="participantsTableContainer">
        <h1 class="text-center mb-4">Participants List</h1>
        <div class="card shadow">
            <div class="card-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Birthplace</th>
                            <th>Birthdate</th>
                            <th>Gender</th>
                            <th>Seminar</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="participantsTableBody">

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editParticipantModal" tabindex="-1" aria-labelledby="editParticipantModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editParticipantModalLabel">Edit Participant</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editParticipantForm">
                        <div class="mb-3">
                            <label for="editName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="editName" required>
                        </div>
                        <div class="mb-3">
                            <label for="editBirthplace" class="form-label">Birthplace</label>
                            <input type="text" class="form-control" id="editBirthplace" required>
                        </div>
                        <div class="mb-3">
                            <label for="editBirthdate" class="form-label">Birthdate</label>
                            <input type="date" class="form-control" id="editBirthdate" required>
                        </div>
                        <div class="mb-3">
                            <label for="editGender" class="form-label">Gender</label>
                            <select class="form-select" id="editGender" required>
                                <option value="Laki-laki">Laki-laki</option>
                                <option value="Perempuan">Perempuan</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editSeminar" class="form-label">Seminar</label>
                            <input type="text" class="form-control" id="editSeminar" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let editingIndex = null; 
    
        function handleRegister(event) {
            event.preventDefault();
            const newUsername = document.getElementById('newUsername').value;
            const newPassword = document.getElementById('newPassword').value;
    
            if (newUsername && newPassword) {
                localStorage.setItem('username', newUsername);
                localStorage.setItem('password', newPassword);
                alert("Registration successful!");
                const registerModal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
                registerModal.hide();
            } else {
                document.getElementById('registerError').style.display = 'block';
            }
        }
    
        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
    
            const adminUsername = 'admin';
            const adminPassword = '123';
            const storedUsername = localStorage.getItem('username');
            const storedPassword = localStorage.getItem('password');
    
            if ((username === storedUsername && password === storedPassword) || (username === adminUsername && password === adminPassword)) {
                alert("Login successful!");
                document.getElementById('loginButton').style.display = 'none';
                document.getElementById('registerButton').style.display = 'none';
                if (username === adminUsername) {
                    document.getElementById('createSeminarButton').style.display = 'inline-block';
                    document.getElementById('viewParticipantsButton').style.display = 'inline-block';
                }
                document.getElementById('logoutButton').style.display = 'inline-block';
                const loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                loginModal.hide();
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }
    
        function handleLogout() {
            localStorage.removeItem('username');
            localStorage.removeItem('password');
            document.getElementById('createSeminarButton').style.display = 'none';
            document.getElementById('viewParticipantsButton').style.display = 'none';
            document.getElementById('logoutButton').style.display = 'none';
            document.getElementById('loginButton').style.display = 'inline-block';
            document.getElementById('registerButton').style.display = 'inline-block';
            window.location.reload();
        }
    
        const participants = [
            { name: 'Iqbal', birthplace: 'Jakarta', birthdate: '2000-01-01', gender: 'Laki-laki', seminar: 'Teknologi AI' },
            { name: 'Dewi', birthplace: 'Bandung', birthdate: '1998-05-12', gender: 'Perempuan', seminar: 'Etika Digital' },
            { name: 'Rina', birthplace: 'Surabaya', birthdate: '2001-07-15', gender: 'Perempuan', seminar: 'Keamanan Data' }
        ];
    
        function populateParticipantsTable(filteredParticipants = participants) {
            const tableBody = document.getElementById('participantsTableBody');
            tableBody.innerHTML = '';
            
            if (filteredParticipants.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="6" class="text-center">No participants found for the selected seminar.</td></tr>';
            } else {
                filteredParticipants.forEach((participant, index) => {
                    const row = `<tr>
                        <td>${participant.name}</td>
                        <td>${participant.birthplace}</td>
                        <td>${participant.birthdate}</td>
                        <td>${participant.gender}</td>
                        <td>${participant.seminar}</td>
                        <td>
                            <button class="btn btn-primary btn-sm" onclick="editParticipant(${index})">Edit</button>
                            <button class="btn btn-danger btn-sm" onclick="deleteParticipant(${index})">Delete</button>
                        </td>
                    </tr>`;
                    tableBody.innerHTML += row;
                });
            }
        }
    
        function editParticipant(index) {
            editingIndex = index; 
            const participant = participants[index];

            document.getElementById('editName').value = participant.name;
            document.getElementById('editBirthplace').value = participant.birthplace;
            document.getElementById('editBirthdate').value = participant.birthdate;
            document.getElementById('editGender').value = participant.gender;
            document.getElementById('editSeminar').value = participant.seminar;
    
            const editModal = new bootstrap.Modal(document.getElementById('editParticipantModal'));
            editModal.show();
        }
    
        document.getElementById('editParticipantForm').addEventListener('submit', function (event) {
            event.preventDefault();
    
            const updatedParticipant = {
                name: document.getElementById('editName').value,
                birthplace: document.getElementById('editBirthplace').value,
                birthdate: document.getElementById('editBirthdate').value,
                gender: document.getElementById('editGender').value,
                seminar: document.getElementById('editSeminar').value,
            };
    
            participants[editingIndex] = updatedParticipant;
            alert("Participant updated successfully!");
            populateParticipantsTable();
    
            const editModal = bootstrap.Modal.getInstance(document.getElementById('editParticipantModal'));
            editModal.hide();
        });
    
        function deleteParticipant(index) {
            const confirmDelete = confirm("Are you sure you want to delete this participant?");
            if (confirmDelete) {
                participants.splice(index, 1);
                alert("Participant deleted successfully!");
                populateParticipantsTable();
            }
        }
    
        document.getElementById('createSeminarButton').addEventListener('click', function () {
            document.getElementById('seminarRegistrationForm').classList.add('container-hidden');
            document.getElementById('createSeminarContainer').classList.remove('container-hidden');
            document.getElementById('participantsTableContainer').classList.add('container-hidden');
            document.getElementById('filterParticipantsContainer').classList.add('container-hidden');
        });
    
        document.getElementById('viewParticipantsButton').addEventListener('click', function () {
            document.getElementById('seminarRegistrationForm').classList.add('container-hidden');
            document.getElementById('createSeminarContainer').classList.add('container-hidden');
            document.getElementById('participantsTableContainer').classList.remove('container-hidden');
            document.getElementById('filterParticipantsContainer').classList.remove('container-hidden');
            populateParticipantsTable();
        });
    
        function handleFilterParticipants(event) {
            event.preventDefault();
            const selectedSeminar = document.getElementById('filterSeminar').value;
    
            const filteredParticipants = participants.filter(participant => {
                return participant.seminar === selectedSeminar;
            });
    
            populateParticipantsTable(filteredParticipants);
        }
    
        document.getElementById('filterParticipantsForm').addEventListener('submit', handleFilterParticipants);
    </script>    
</body>
</html>